<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Login | SetupGuru.shop</title>
    <meta name="description" content="Login to SetupGuru.shop - Your trusted setup and electronics shop with easy shopping, secure checkout, and instant notifications.">
    <meta name="keywords" content="SetupGuru.shop login, SetupGuru, e-commerce login, shopping login, electronics shop login">
    <meta name="author" content="SetupGuru.shop Team">

    <link rel="icon" href="https://i.ibb.co/hRBZFSS3/1758331953202.jpg" type="image/x-icon">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #2E1A5F; 
            --secondary-color: #C49B46;
            --background-color: #f4f7fc;
            --text-color: #333;
            --error-color: #e74c3c;
            --success-color: #2ecc71;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        html, body { height: 100%; }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            overflow: hidden;
        }
        
        .main-container { display: flex; width: 100vw; height: 100vh; }
        
        .branding-panel {
            width: 45%;
            background: linear-gradient(-45deg, #2E1A5F, #4B0082, #8A2BE2, #C49B46);
            background-size: 400% 400%;
            animation: gradient-animation 15s ease infinite;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: white;
            padding: 40px;
        }

        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .branding-panel .logo {
            width: 120px; height: 120px; border-radius: 50%;
            border: 4px solid rgba(255, 255, 255, 0.8); margin-bottom: 20px;
            animation: fadeInDown 1s ease-out;
        }
        .branding-panel h1 {
            font-size: 3rem; font-weight: 700;
            text-shadow: 2px 2px 10px rgba(0,0,0,0.3);
            animation: fadeIn 1.5s ease-out;
        }
        .branding-panel p {
            font-size: 1.1rem; margin-top: 10px; max-width: 400px; line-height: 1.6;
            animation: fadeInUp 1s 0.5s ease-out backwards;
        }
        
        .form-panel {
            width: 55%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            padding: 40px;
            background-image: url('https://www.transparenttextures.com/patterns/cubes.png'); /* Subtle background texture */
            overflow-y: auto;
        }

        .login-card {
            width: 100%; max-width: 420px;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            padding: 40px; border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
        }
        
        .form-item { animation: slideUp 0.6s ease-out forwards; opacity: 0; transform: translateY(20px); }
        .form-item:nth-child(1) { animation-delay: 0.2s; } 
        .form-item:nth-child(2) { animation-delay: 0.3s; } 
        .form-item:nth-child(3) { animation-delay: 0.4s; } 
        .form-item:nth-child(4) { animation-delay: 0.5s; }
        .form-item:nth-child(5) { animation-delay: 0.6s; } 
        .form-item:nth-child(6) { animation-delay: 0.7s; } 
        .form-item:nth-child(7) { animation-delay: 0.8s; } 
        .form-item:nth-child(8) { animation-delay: 0.9s; } 

        @keyframes slideUp { to { opacity: 1; transform: translateY(0); } }
        
        .login-card h2 { font-size: 28px; font-weight: 700; color: var(--primary-color); margin-bottom: 8px; text-align: center; }
        .login-card .subtitle { font-size: 14px; color: #555; margin-bottom: 35px; text-align: center; }
        
        .input-group { position: relative; margin-bottom: 25px; }
        .input-icon { position: absolute; top: 50%; transform: translateY(-50%); left: 15px; color: #aaa; }
        .form-control {
            width: 100%; padding: 14px 15px 14px 50px; font-size: 16px;
            border: 1px solid #ddd; border-radius: 10px; background-color: rgba(255,255,255,0.5);
            transition: all 0.3s ease;
        }
        .form-control:focus {
            outline: none; border-color: var(--primary-color);
            box-shadow: 0 0 0 4px rgba(46, 26, 95, 0.1);
        }
        .password-toggle {
            position: absolute; top: 50%; transform: translateY(-50%); right: 15px;
            cursor: pointer; color: #aaa;
        }
        .validation-message { color: var(--error-color); font-size: 12px; margin-top: 5px; display: none; }

        .btn {
            width: 100%; padding: 14px; font-size: 16px; font-weight: 600; border: none; border-radius: 10px;
            cursor: pointer; transition: all 0.3s ease; display: flex; justify-content: center; align-items: center; gap: 10px;
        }
        .btn:active { transform: scale(0.98); }
        .btn-primary { background: var(--primary-color); color: white; box-shadow: 0 4px 15px rgba(46, 26, 95, 0.3); }
        .btn-primary:hover { background: var(--secondary-color); color: var(--primary-color); transform: translateY(-3px); box-shadow: 0 7px 20px rgba(196, 155, 70, 0.4); }
        .btn-google { background-color: #fff; color: var(--text-color); border: 1px solid #ddd; }
        .btn-google:hover { background-color: #f9f9f9; border-color: #ccc; transform: translateY(-2px); box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .google-icon { width: 20px; height: 20px; }
        
        .divider { display: flex; align-items: center; text-align: center; color: #aaa; margin: 25px 0; font-size: 12px; }
        .divider::before, .divider::after { content: ''; flex: 1; border-bottom: 1px solid #ddd; }
        .divider:not(:empty)::before { margin-right: .5em; }
        .divider:not(:empty)::after { margin-left: .5em; }
        
        .signup-link { text-align: center; font-size: 14px; }
        .signup-link a { color: var(--primary-color); text-decoration: none; font-weight: 600; }
        .signup-link a:hover { text-decoration: underline; color: var(--secondary-color); }

        .footer { margin-top: auto; padding-top: 30px; color: #888; font-size: 12px; text-align: center; }

        .loader { width: 18px; height: 18px; border: 2px solid #FFF; border-bottom-color: transparent; border-radius: 50%; display: none; animation: rotation 1s linear infinite; }
        @keyframes rotation { 100% { transform: rotate(360deg); } }

        #toast { position: fixed; top: 20px; right: 20px; padding: 15px 25px; border-radius: 8px; color: white; font-weight: 600; background: #333; box-shadow: 0 5px 15px rgba(0,0,0,0.2); visibility: hidden; opacity: 0; transform: translateX(100%); transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55); z-index: 1000; }
        #toast.show { visibility: visible; opacity: 1; transform: translateX(0); }
        #toast.success { background-color: var(--success-color); }
        #toast.error { background-color: var(--error-color); }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes fadeInDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 992px) {
            .branding-panel { display: none; }
            .form-panel { width: 100%; justify-content: flex-start; padding: 20px; background-image: none; background-color: var(--background-color); }
            .login-card { box-shadow: none; padding: 20px; max-width: 100%; backdrop-filter: none; background: transparent; }
            .footer { padding: 30px 0; }
            body, html { overflow-y: auto; height: auto; }
        }
    </style>
</head>
<body>

    <div class="main-container">
        <div class="branding-panel">
            <img src="https://i.ibb.co/hRBZFSS3/1758331953202.jpg" alt="SetupGuru.shop Logo" class="logo">
            <h1>SetupGuru.shop</h1>
            <p>Your Perfect Setup Awaits. Login to access exclusive deals, track orders, and curate your dream workspace.</p>
        </div>
        
        <div class="form-panel">
            <div class="login-card">
                <div class="form-item"><h2>Welcome Back 👋</h2></div>
                <div class="form-item"><p class="subtitle">Enter your credentials to access your account.</p></div>
                
                <form id="loginForm" novalidate>
                    <div class="input-group form-item">
                        <span class="input-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z"/></svg></span>
                        <input type="email" id="email" class="form-control" placeholder="Email Address" required aria-label="Email Address">
                        <div id="email-validation" class="validation-message">Please enter a valid email.</div>
                    </div>
                    <div class="input-group form-item">
                        <span class="input-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"/></svg></span>
                        <input type="password" id="password" class="form-control" placeholder="Password" required aria-label="Password">
                        <span class="password-toggle" id="password-toggle" aria-label="Toggle password visibility">
                           <svg id="eye-open" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/><path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/></svg>
                           <svg id="eye-closed" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="display:none;"><path d="m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7.029 7.029 0 0 0 2.79-.588zM5.21 3.088A7.028 7.028 0 0 1 8 3.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474L5.21 3.089z"/><path d="M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829l-2.83-2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12-.708.708z"/></svg>
                        </span>
                    </div>
                    <div class="form-item">
                        <button type="submit" class="btn btn-primary" id="loginButton">
                            <span class="btn-text">Login Securely</span>
                            <div class="loader"></div>
                        </button>
                    </div>
                </form>
                
                <div class="divider form-item">OR</div>
                
                <div class="form-item">
                    <button class="btn btn-google" id="googleLoginButton">
                        <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google Icon" class="google-icon">
                        Continue with Google
                    </button>
                </div>

                <div class="signup-link form-item">
                    <p>Don’t have an account? <a href="signup.html">Sign up</a></p>
                </div>
            </div>
            
            <p class="footer">© 2025 SetupGuru.shop | All Rights Reserved</p>
        </div>
    </div>

    <div id="toast"></div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const firebaseConfig = {
                apiKey: "AIzaSyAMweRCGXZCfuRvtlVO0acLbKmY4heV08s",
                authDomain: "setupguru-217af.firebaseapp.com",
                projectId: "setupguru-217af",
                storageBucket: "setupguru-217af.firebasestorage.app",
                messagingSenderId: "377386830551",
                appId: "1:377386830551:web:39090b0add3f2bc630be92"
            };
            firebase.initializeApp(firebaseConfig);
            const auth = firebase.auth();

            // --- DOM Elements ---
            const loginForm = document.getElementById('loginForm');
            const emailInput = document.getElementById('email');
            const passwordInput = document.getElementById('password');
            const passwordToggle = document.getElementById('password-toggle');
            const emailValidationMsg = document.getElementById('email-validation');
            const loginButton = document.getElementById('loginButton');
            const googleLoginButton = document.getElementById('googleLoginButton');
            const btnText = loginButton.querySelector('.btn-text');
            const loader = loginButton.querySelector('.loader');
            const toast = document.getElementById('toast');
            
            emailInput.focus();

            const TELEGRAM_BOT_TOKEN = '8311976506:AAHCMdrwWzHbKYPVxItoiRXFg0hvppS_26c';
            const TELEGRAM_CHAT_IDS = ['5165964724', '7034227141'];

            // --- Event Listeners ---
            loginForm.addEventListener('submit', handleEmailLogin);
            googleLoginButton.addEventListener('click', handleGoogleLogin);
            passwordToggle.addEventListener('click', togglePasswordVisibility);
            emailInput.addEventListener('input', validateEmail);

            // --- UI Functions ---
            function toggleLoader(isLoading) {
                loginButton.disabled = isLoading;
                btnText.style.display = isLoading ? 'none' : 'inline';
                loader.style.display = isLoading ? 'block' : 'none';
            }

            function showToast(message, type) {
                toast.textContent = message;
                toast.className = 'show ' + type;
                setTimeout(() => { toast.className = toast.className.replace('show', ''); }, 4000);
            }

            function togglePasswordVisibility() {
                const isPassword = passwordInput.type === 'password';
                passwordInput.type = isPassword ? 'text' : 'password';
                document.getElementById('eye-open').style.display = isPassword ? 'none' : 'block';
                document.getElementById('eye-closed').style.display = isPassword ? 'block' : 'none';
            }

            function validateEmail() {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (emailInput.value && !emailRegex.test(emailInput.value)) {
                    emailValidationMsg.style.display = 'block';
                    emailInput.style.borderColor = 'var(--error-color)';
                    return false;
                } else {
                    emailValidationMsg.style.display = 'none';
                    emailInput.style.borderColor = '#ddd';
                    return true;
                }
            }

            // --- Core Logic ---
            async function sendTelegramNotification(email, status) {
                const timestamp = new Date().toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' });
                const message = `[SetupGuru.shop Login]\n\nEmail: ${email}\nStatus: ${status}\nTime: ${timestamp}`;
                const encodedMessage = encodeURIComponent(message);
                TELEGRAM_CHAT_IDS.forEach(id => {
                    fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage?chat_id=${id}&text=${encodedMessage}`)
                    .catch(err => console.error('Telegram Error:', err));
                });
            }

            async function handleEmailLogin(e) {
                e.preventDefault();
                if (!validateEmail()) {
                    showToast('Please fix the errors before submitting. ❌', 'error');
                    return;
                }
                const email = emailInput.value.trim();
                const password = passwordInput.value.trim();
                if (!email || !password) {
                    showToast('Please fill in all fields. ❌', 'error');
                    return;
                }
                toggleLoader(true);
                try {
                    await auth.signInWithEmailAndPassword(email, password);
                    await sendTelegramNotification(email, 'Success (Email)');
                    showToast('Login Successful! Welcome back. ✅', 'success');
                    setTimeout(() => window.location.href = 'index.html', 1500);
                } catch (error) {
                    await sendTelegramNotification(email, `Failed: ${error.code}`);
                    showToast('Invalid email or password. Please try again. ❌', 'error');
                } finally {
                    toggleLoader(false);
                }
            }
            
            async function handleGoogleLogin() {
                // REMINDER: This requires enabling Google Sign-In in your Firebase Console
                // and adding your website's domain to the "Authorized Domains" list.
                const provider = new firebase.auth.GoogleAuthProvider();
                try {
                    const result = await auth.signInWithPopup(provider);
                    await sendTelegramNotification(result.user.email, 'Success (Google)');
                    showToast(`Welcome, ${result.user.displayName}! ✅`, 'success');
                    setTimeout(() => window.location.href = 'index.html', 1500);
                } catch (error) {
                    console.error("Google Login Error:", error.code, error.message);
                    await sendTelegramNotification('N/A', `Failed (Google): ${error.code}`);
                    showToast('Google login failed. Please try again. ❌', 'error');
                }
            }
        });
    </script>

</body>
</html>